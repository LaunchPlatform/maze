{% extends "base.html" %}

{% block page_title %}
  View agent {{ agent.id }}
{% endblock %}

{% block js %}
<script src="{{ url_for('static', path='vendors/dagre/lodash-4.17.15.js') }}"></script>
<script src="{{ url_for('static', path='vendors/dagre/graphlib-2.1.3.min.js') }}"></script>
<script src="{{ url_for('static', path='vendors/dagre/d3.v7.min.js') }}"></script>
<script src="{{ url_for('static', path='vendors/dagre/dagre-1.0.4.min.js') }}"></script>
<script src="{{ url_for('static', path='vendors/dagre/dagre-d3-0.5.0.min.js') }}"></script>
{% endblock %}

{% block content %}
<h1>Agent: {{ agent.id }}</h1>

<dl>
  <dt>ID</dt>
  <dd>{{ agent.id }}</dd>

  <dt>Operation Cost</dt>
  <dd>{{ agent.op_cost | format_int }}</dd>

  <dt>Build Cost</dt>
  <dd>{{ agent.build_cost | format_int }}</dd>

  <dt>Parameters</dt>
  <dd>{{ agent.parameters_count | format_int }}</dd>

  <dt>LHS Parent</dt>
  <dd>
    {% if agent.lhs_parent is none %}
      None
    {% else %}
      <a href="{{ url_for('view_agent', id=agent.lhs_parent_id) }}">{{ agent.lhs_parent.id }}</a>
    {% endif %}
  </dd>

  <dt>RHS Parent</dt>
  <dd>
    {% if agent.rhs_parent is none %}
      None
    {% else %}
      <a href="{{ url_for('view_agent', id=agent.rhs_parent_id) }}">{{ agent.rhs_parent.id }}</a>
    {% endif %}
  </dd>

  <dt>LHS Children</dt>
  <dd>
    <ul>
    {% for child_agent in agent.lhs_children %}
      <li><a href="{{ url_for('view_agent', id=child_agent.id) }}">{{ child_agent.id }}</a></li>
    {% endfor %}
    </ul>
  </dd>

  <dt>RHS Children</dt>
  <dd>
    <ul>
    {% for child_agent in agent.rhs_children %}
      <li><a href="{{ url_for('view_agent', id=child_agent.id) }}">{{ child_agent.id }}</a></li>
    {% endfor %}
    </ul>
  </dd>

  <dt>Avatars</dt>
  <dd>
    <ul>
    {% for avatar in agent.avatars %}
      <li><a href="{{ url_for('view_avatar', id=avatar.id) }}">{{ avatar.id }}</a></li>
    {% endfor %}
    </ul>
  </dd>

  <dt>Gene</dt>
  <dd>
    <pre><code>{{ agent.gene | tojson(2) }}</code></pre>
  </dd>
</dl>

{% endblock content %}